{"version":3,"sources":["assets\\Script\\guangka\\guanItem.js"],"names":["cc","Class","Component","properties","num","stars","Sprite","label","Label","gkIcon","onDestroy","addEvent","onLoad","zhang","parseInt","guan","string","toString","flg","node","on","Node","EventType","TOUCH_END","onTouch","off","log","game","guanKaInfo","emit","gameEvent","load_scene","gameScene","gameMain","setInfo","info","level","curNum","spriteFrame","ui_atlas","getSpriteFrame","state","i","length","star"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAELC,EAAAA,UAAU,EAAE;AACRC,IAAAA,GAAG,EAAE,GADG;AAERC,IAAAA,KAAK,EAAE,CAACL,EAAE,CAACM,MAAJ,CAFC;AAGRC,IAAAA,KAAK,EAAEP,EAAE,CAACQ,KAHF;AAIRC,IAAAA,MAAM,EAAET,EAAE,CAACM;AAJH,GAFP;AAQLI,EAAAA,SARK,uBAQO;AACR,SAAKC,QAAL,CAAc,KAAd;AACH,GAVI;AAWLC,EAAAA,MAXK,oBAWI;AACL,SAAKC,KAAL,GAAaC,QAAQ,CAAC,KAAKV,GAAL,GAAW,GAAZ,CAArB;AACA,SAAKW,IAAL,GAAY,KAAKX,GAAL,GAAW,GAAvB;AACA,SAAKG,KAAL,CAAWS,MAAX,GAAoB,KAAKD,IAAL,CAAUE,QAAV,EAApB;AACH,GAfI;AAgBLN,EAAAA,QAhBK,oBAgBIO,GAhBJ,EAgBS;AACV,QAAI,KAAKA,GAAL,IAAYA,GAAhB,EAAqB;AACrB,SAAKA,GAAL,GAAWA,GAAX;;AACA,QAAIA,GAAJ,EAAS;AACL,WAAKC,IAAL,CAAUC,EAAV,CAAapB,EAAE,CAACqB,IAAH,CAAQC,SAAR,CAAkBC,SAA/B,EAA0C,KAAKC,OAA/C,EAAwD,IAAxD;AACH,KAFD,MAGK;AACD,WAAKL,IAAL,CAAUM,GAAV,CAAczB,EAAE,CAACqB,IAAH,CAAQC,SAAR,CAAkBC,SAAhC,EAA2C,KAAKC,OAAhD,EAAyD,IAAzD;AACH;AACJ,GAzBI;AA0BLA,EAAAA,OA1BK,qBA0BK;AACNxB,IAAAA,EAAE,CAAC0B,GAAH,CAAO,CAAP;AACAC,IAAAA,IAAI,CAACC,UAAL,GAAkB,SAAlB;AACAD,IAAAA,IAAI,CAACE,IAAL,CAAUF,IAAI,CAACG,SAAL,CAAeC,UAAzB,EAAqCJ,IAAI,CAACK,SAAL,CAAeC,QAApD;AACH,GA9BI;AA+BLC,EAAAA,OA/BK,mBA+BGC,IA/BH,EA+BS;AACVA,IAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf;AACAA,IAAAA,IAAI,CAACC,KAAL,GAAaD,IAAI,CAACC,KAAL,IAAc,CAA3B,CAFU,CAEoB;;AAC9B,QAAIT,IAAI,CAACU,MAAL,IAAe,KAAKjC,GAAxB,EAA6B;AACzB,WAAKK,MAAL,CAAY6B,WAAZ,GAA0BX,IAAI,CAACY,QAAL,CAAcC,cAAd,CAA6B,UAA7B,CAA1B;AACA,WAAK7B,QAAL,CAAc,IAAd;AACH,KAHD,MAIK;AACD,UAAIwB,IAAI,CAACM,KAAT,EAAgB;AACZ,aAAK9B,QAAL,CAAc,IAAd;AACA,aAAKF,MAAL,CAAY6B,WAAZ,GAA0BX,IAAI,CAACY,QAAL,CAAcC,cAAd,CAA6B,UAA7B,CAA1B;AACH,OAHD,MAIK;AACD,aAAK/B,MAAL,CAAY6B,WAAZ,GAA0BX,IAAI,CAACY,QAAL,CAAcC,cAAd,CAA6B,UAA7B,CAA1B;AACH;AACJ;;AACD,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKrC,KAAL,CAAWsC,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxC,UAAIE,IAAI,GAAG,KAAKvC,KAAL,CAAWqC,CAAX,CAAX;;AACA,UAAIP,IAAI,CAACM,KAAL,GAAaC,CAAjB,EAAoB;AAChBE,QAAAA,IAAI,CAACN,WAAL,GAAmBX,IAAI,CAACY,QAAL,CAAcC,cAAd,CAA6B,WAA7B,CAAnB;AACH,OAFD,MAGK;AACDI,QAAAA,IAAI,CAACN,WAAL,GAAmBX,IAAI,CAACY,QAAL,CAAcC,cAAd,CAA6B,WAA7B,CAAnB;AACH;AACJ;AACJ;AAxDI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        num: 101,\r\n        stars: [cc.Sprite],\r\n        label: cc.Label,\r\n        gkIcon: cc.Sprite\r\n    },\r\n    onDestroy() {\r\n        this.addEvent(false)\r\n    },\r\n    onLoad() {\r\n        this.zhang = parseInt(this.num / 100);\r\n        this.guan = this.num % 100;\r\n        this.label.string = this.guan.toString();\r\n    },\r\n    addEvent(flg) {\r\n        if (this.flg == flg) return;\r\n        this.flg = flg;\r\n        if (flg) {\r\n            this.node.on(cc.Node.EventType.TOUCH_END, this.onTouch, this);\r\n        }\r\n        else {\r\n            this.node.off(cc.Node.EventType.TOUCH_END, this.onTouch, this);\r\n        }\r\n    },\r\n    onTouch() {\r\n        cc.log(1);\r\n        game.guanKaInfo = \"guan1_1\";\r\n        game.emit(game.gameEvent.load_scene, game.gameScene.gameMain)\r\n    },\r\n    setInfo(info) {\r\n        info = info || {};\r\n        info.level = info.level || 0; //0\r\n        if (game.curNum == this.num) {\r\n            this.gkIcon.spriteFrame = game.ui_atlas.getSpriteFrame(\"gk-guka0\");\r\n            this.addEvent(true);\r\n        }\r\n        else {\r\n            if (info.state) {\r\n                this.addEvent(true);\r\n                this.gkIcon.spriteFrame = game.ui_atlas.getSpriteFrame(\"gk-guka1\");\r\n            }\r\n            else {\r\n                this.gkIcon.spriteFrame = game.ui_atlas.getSpriteFrame(\"gk-guka2\");\r\n            }\r\n        }\r\n        for (var i = 0; i < this.stars.length; i++) {\r\n            var star = this.stars[i];\r\n            if (info.state > i) {\r\n                star.spriteFrame = game.ui_atlas.getSpriteFrame(\"gk-start1\");\r\n            }\r\n            else {\r\n                star.spriteFrame = game.ui_atlas.getSpriteFrame(\"gk-start0\");\r\n            }\r\n        }\r\n    }\r\n});\r\n"]}