{"version":3,"sources":["assets\\Script\\core\\roleRotation.js"],"names":["PoolComponent","require","cc","Class","properties","parent","Node","onDestroy","onLoad","idx","reuse","data","node","angle","unuse","update","dt","_","sortedIndex","game","mapXList","x","mapRotation","length"],"mappings":";;;;;;AAAA,IAAIA,aAAa,GAAGC,OAAO,CAAC,eAAD,CAA3B,EAA8C;;;AAC9CC,EAAE,CAACC,KAAH,CAAS;AACL,aAASH,aADJ;AAELI,EAAAA,UAAU,EAAE;AACRC,IAAAA,MAAM,EAAEH,EAAE,CAACI;AADH,GAFP;AAKLC,EAAAA,SALK,uBAKO,CACX,CANI;AAOLC,EAAAA,MAPK,oBAOI;AACL,SAAKC,GAAL,GAAW,CAAX;AACH,GATI;AAULC,EAAAA,KAVK,iBAUCC,IAVD,EAUO;AACR,SAAKF,GAAL,GAAW,CAAX;AACA,SAAKG,IAAL,CAAUC,KAAV,GAAkB,CAAlB;AACH,GAbI;AAcLC,EAAAA,KAdK,mBAcG;AACJ,SAAKF,IAAL,CAAUC,KAAV,GAAkB,CAAlB;AACH,GAhBI;AAiBLE,EAAAA,MAjBK,kBAiBEC,EAjBF,EAiBM;AACP,QAAI,CAAC,KAAKX,MAAV,EAAkB;AAClB,SAAKI,GAAL;;AACA,QAAI,KAAKA,GAAL,GAAW,EAAX,IAAiB,CAArB,EAAwB;AACpB,UAAIA,GAAG,GAAGQ,CAAC,CAACC,WAAF,CAAcC,IAAI,CAACC,QAAnB,EAA6B,KAAKf,MAAL,CAAYgB,CAAzC,CAAV;;AACA,UAAIZ,GAAG,GAAG,CAAV,EAAaA,GAAG;;AAChB,UAAIA,GAAG,IAAI,CAAP,IAAYA,GAAG,GAAGU,IAAI,CAACG,WAAL,CAAiBC,MAAvC,EAA+C;AAC3C,YAAIV,KAAK,GAAGM,IAAI,CAACG,WAAL,CAAiBb,GAAjB,CAAZ;AACA,aAAKG,IAAL,CAAUC,KAAV,GAAkBA,KAAlB;AACH;AACJ;AACJ;AA5BI,CAAT","sourceRoot":"/","sourcesContent":["let PoolComponent = require(\"PoolComponent\"); //池子组件\r\ncc.Class({\r\n    extends: PoolComponent,\r\n    properties: {\r\n        parent: cc.Node\r\n    },\r\n    onDestroy() {\r\n    },\r\n    onLoad() {\r\n        this.idx = 0;\r\n    },\r\n    reuse(data) {\r\n        this.idx = 0;\r\n        this.node.angle = 0;\r\n    },\r\n    unuse() {\r\n        this.node.angle = 0;\r\n    },\r\n    update(dt) {\r\n        if (!this.parent) return;\r\n        this.idx++;\r\n        if (this.idx % 10 == 0) {\r\n            var idx = _.sortedIndex(game.mapXList, this.parent.x);\r\n            if (idx > 0) idx--;\r\n            if (idx >= 0 && idx < game.mapRotation.length) {\r\n                let angle = game.mapRotation[idx];\r\n                this.node.angle = angle;\r\n            }\r\n        }\r\n    },\r\n});\r\n"]}